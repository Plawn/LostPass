(this["webpackJsonpplawn-pass"]=this["webpackJsonpplawn-pass"]||[]).push([[0],{108:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(0),c=n.n(a),i=n(9),o=n.n(i),s=(n(98),n(81)),l=n(11),u=n(23),j=n(148),b=n(137),d=function(e){return e.loading?Object(r.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(r.jsx)(b.a,{})}):Object(r.jsx)(r.Fragment,{children:e.children})},p=n(16),h=n(141),O=function(e){return Object(r.jsx)(h.a,Object(p.a)(Object(p.a)({},e),{},{variant:"outlined"}))},f=n(75),m=n.n(f),x=n(142),v=n(76),y=n.n(v),g=function(e){var t=e.string;return Object(r.jsx)(m.a,{text:t,children:Object(r.jsx)(x.a,{component:"span",children:Object(r.jsx)(y.a,{})})})},w=n(154),k=function(e){return Object(r.jsx)(w.a,Object(p.a)(Object(p.a)({},e),{},{inputProps:{style:Object(p.a)({textAlign:"center"},e.style)},variant:"outlined",margin:"dense"}))},C=Object(a.memo)((function(e){var t=e.url;return Object(r.jsxs)("div",{style:{display:"flex"},children:[Object(r.jsx)(k,{value:t,style:{width:"100%"},InputProps:{readOnly:!0}}),Object(r.jsx)(g,{string:t})]})})),S=n(14),F=n.n(S),N=n(26);function I(e,t){return L.apply(this,arguments)}function L(){return(L=Object(N.a)(F.a.mark((function e(t,n){var r,a,c,i=arguments;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:null,(a=new Headers).append("Content-Type","application/json"),a.append("Accept","application/json"),e.next=6,fetch("/api".concat(t),{method:n,headers:a,body:r?JSON.stringify(r):null});case 6:if((c=e.sent).ok){e.next=9;break}throw c;case 9:return e.abrupt("return",c.json());case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return V.apply(this,arguments)}function V(){return(V=Object(N.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I(t,"GET"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t){return E.apply(this,arguments)}function E(){return(E=Object(N.a)(F.a.mark((function e(t,n){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I(t,"POST",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=function(){var e=Object(N.a)(F.a.mark((function e(t,n){var r,a=arguments;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:1,e.next=3,W("/new",{content:t,ttl:n,links_number:r});case 3:return e.abrupt("return",e.sent.tokens);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$=function(){var e=Object(N.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T("/preview/".concat(encodeURIComponent(t)));case 2:return e.abrupt("return",e.sent.valid);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(N.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T("/view/".concat(encodeURIComponent(t)));case 2:return e.abrupt("return",e.sent.content);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=n(145),P=n(156),J=n(152),R=n(157),U=n(109),B=n(153),H=Object(U.a)((function(e){return{icon:{color:e.palette.primary.main},root:{color:e.palette.primary.main,display:"flex",flexWrap:"wrap","& $notchedOutline":{borderColor:e.palette.primary.main},"&:hover $notchedOutline":{borderColor:e.palette.primary.main},"&$focused $notchedOutline":{borderColor:e.palette.primary.main}},menuItem:{"&:hover":{backgroundColor:e.palette.primary.main+"8C"}},formControl:{margin:e.spacing(1),width:200},inputLabel:{color:e.palette.primary.main}}})),G=function(e){var t=e.options,n=Object(a.useState)(e.initialValue||""),c=Object(u.a)(n,2),i=c[0],o=c[1],s=Object(a.useMemo)((function(){return t.map((function(e){return{label:e.label,value:e}}))}),[t]),l=H(),j=Object(B.a)();return Object(r.jsxs)(D.a,{variant:"outlined",margin:"dense",className:l.formControl,style:e.style,children:[Object(r.jsx)(P.a,{classes:{root:l.inputLabel},htmlFor:j,children:e.label}),Object(r.jsx)(J.a,{id:j,onChange:function(t){return o((n=t).target.value.label||""),e.form&&e.form.setFieldValue(e.field.name,n.target.value.value,!0),void(e.onChange&&e.onChange(n));var n},value:i,classes:{icon:l.icon},renderValue:function(e){return Object(r.jsx)(r.Fragment,{children:e.label||e})},label:e.label,children:s.map((function(e){return Object(r.jsx)(R.a,{value:e.value,className:l.menuItem,children:e.label},e.label)}))})]})},Y=n(33),_=n(147),q=Object(_.a)({multiLineField:{width:"100%",margin:"1rem 0",background:"none"}}),z=function(e){var t=q();return Object(r.jsx)(w.a,Object(p.a)(Object(p.a)({},e),{},{className:t.multiLineField,multiline:!0,rowsMax:10,rows:10,variant:"outlined"}))},K=function(e){return Object(r.jsx)(k,Object(p.a)(Object(p.a)({},e.field),e))},Q=function(e){return Object(r.jsx)(z,Object(p.a)(Object(p.a)({},e.field),e))},X=n(83);var Z=[{label:"Hour",value:3600},{label:"Day",value:86400},{label:"Week",value:604800},{label:"Never",value:0}],ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(X.a)(Array(e).keys()).map((function(e){return e+t}))}(10,1).map((function(e){return{label:"".concat(e),value:e}})),te={ttl:Z[0].value,content:"",linksNumber:1},ne=function(e){var t=e.setTokens,n=e.setLoading,a=function(){var e=Object(N.a)(F.a.mark((function e(r,a,c){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t([]),n(!0),M(r,a,c).then(t).finally((function(){return n(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(j.a,{variant:"h3",children:"Share Secret Data"}),Object(r.jsx)(Y.c,{initialValues:te,onSubmit:function(){var e=Object(N.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0!==t.ttl&&a(t.content,+t.ttl,+t.linksNumber);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),render:function(){return Object(r.jsxs)(Y.b,{children:[Object(r.jsx)(Y.a,{label:"Content",name:"content",placeholder:"Enter your content here",component:Q}),Object(r.jsxs)("div",{children:[Object(r.jsx)(j.a,{variant:"h6",children:"TTL"}),Object(r.jsx)(Y.a,{name:"ttl",placeholder:"Duration in seconds",component:K}),Object(r.jsx)(Y.a,{name:"ttl",options:Z,label:"ttl",component:G,initialValue:Z[0].label})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)(j.a,{variant:"h6",children:"Number of links"}),Object(r.jsx)(Y.a,{name:"linksNumber",placeholder:"Number of links",component:K}),Object(r.jsx)(Y.a,{name:"linksNumber",options:ee,label:"Number of links",component:G})]}),Object(r.jsx)("br",{}),Object(r.jsx)(O,{type:"submit",children:"Share Secret"})]})}})]})},re=function(e){return document.location.origin+"/view/".concat(encodeURIComponent(e))},ae=Object(a.memo)((function(e){var t=e.urls;return Object(r.jsxs)("div",{children:[Object(r.jsx)(j.a,{style:{display:"inline"},children:"Copy all"}),Object(r.jsx)(g,{string:t.join("\n")})]})})),ce=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),o=Object(u.a)(i,2),s=o[0],l=o[1],j=Object(a.useMemo)((function(){return n.map(re)}),[n]),b=Object(a.useMemo)((function(){return Object(r.jsx)(r.Fragment,{children:j.map((function(e){return Object(r.jsx)(C,{url:e},e)}))})}),[j]);return Object(r.jsx)(d,{loading:s,children:n.length>0?Object(r.jsxs)(r.Fragment,{children:[b,Object(r.jsx)("br",{}),Object(r.jsx)(ae,{urls:j}),Object(r.jsx)("br",{}),Object(r.jsx)(O,{onClick:function(){return c([])},children:"Share again"})]}):Object(r.jsx)(ne,{setLoading:l,setTokens:c})})},ie=n(79),oe=n.n(ie),se=Object(a.memo)((function(){return Object(r.jsxs)(j.a,{variant:"h1",children:["Invalid "," ",Object(r.jsx)(oe.a,{htmlColor:"red",style:{height:"95%",width:"13%"}})]})})),le=function(e){var t=e.children;return Object(r.jsx)("span",{style:{fontWeight:"bold"},children:t})},ue=n(80),je=n.n(ue),be=Object(a.memo)((function(e){var t=e.token,n=Object(a.useState)(void 0),c=Object(u.a)(n,2),i=c[0],o=c[1],s=Object(a.useState)(!1),l=Object(u.a)(s,2),b=l[0],p=l[1];return Object(r.jsx)(d,{loading:b,children:void 0!==i?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(j.a,{variant:"h3",children:"Content"}),Object(r.jsx)(z,{value:i,placeholder:"Empty",InputProps:{readOnly:!0}})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(j.a,{variant:"h1",children:["Valid "," ",Object(r.jsx)(je.a,{htmlColor:"green",style:{height:"95%",width:"13%"}})]}),Object(r.jsx)("br",{}),"Do you want to see the content ?",Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),"You can only see it ",Object(r.jsx)(le,{children:"once !"}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)(h.a,{onClick:function(){p(!0),A(t).then(o).catch((function(){return o("Failed to fetch content")})).finally((function(){return p(!1)}))},children:"See Content"})]})})})),de=function(e){var t=e.valid,n=e.token;return t?Object(r.jsx)(be,{token:n}):Object(r.jsx)(se,{})},pe=function(e){var t=e.match.params.token,n=Object(a.useState)(!1),c=Object(u.a)(n,2),i=c[0],o=c[1],s=Object(a.useState)(void 0),l=Object(u.a)(s,2),j=l[0],b=l[1],p=Object(a.useCallback)((function(){o(!0),$(t).then((function(e){return b(e)})).catch((function(){return b(!1)})).finally((function(){return o(!1)}))}),[t]);return Object(a.useEffect)((function(){p()}),[p]),Object(r.jsx)(d,{loading:i||void 0===j,children:Object(r.jsx)(de,{valid:j,token:t})})},he=n(149),Oe=n(146),fe=function(e){var t=e.children,n=e.style;return Object(r.jsx)(he.a,{container:!0,justify:"center",alignItems:"center",style:{height:"100vh"},children:Object(r.jsx)(Oe.a,{style:Object(p.a)({textAlign:"center",padding:"2%",minWidth:"30vw",margin:"1%"},n),children:t})})},me=function(){return Object(r.jsx)(fe,{children:Object(r.jsx)(s.a,{children:Object(r.jsxs)(l.c,{children:[Object(r.jsx)(l.a,{path:"/view/:token",component:pe}),Object(r.jsx)(l.a,{path:"/",component:ce})]})})})},xe=n(82),ve=n(150),ye=n(151),ge=Object(xe.a)(),we=function(){return Object(r.jsxs)(ve.a,{theme:ge,children:[Object(r.jsx)(ye.a,{}),Object(r.jsx)(me,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(we,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},98:function(e,t,n){}},[[108,1,2]]]);
//# sourceMappingURL=main.495381f2.chunk.js.map