(this["webpackJsonpplawn-pass"]=this["webpackJsonpplawn-pass"]||[]).push([[0],{107:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(9),c=n.n(l),o=(n(96),n(79)),u=n(29),i=n(20),m=n(147),s=n(136),p=function(e){return e.loading?r.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(s.a,null)):r.a.createElement(r.a.Fragment,null,e.children)},f=n(140),d=function(e){return r.a.createElement(f.a,Object.assign({},e,{variant:"outlined"}))},b=n(73),h=n.n(b),v=n(141),E=n(74),y=n.n(E),g=function(e){var t=e.string;return r.a.createElement(h.a,{text:t},r.a.createElement(v.a,{component:"span"},r.a.createElement(y.a,null)))},O=n(55),j=n(156),w=function(e){return r.a.createElement(j.a,Object.assign({},e,{inputProps:{style:Object(O.a)({textAlign:"center"},e.style)},variant:"outlined",margin:"dense"}))},k=Object(a.memo)((function(e){var t=e.url;return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(w,{value:t,style:{width:"100%"},InputProps:{readOnly:!0}}),r.a.createElement(g,{string:t}))})),C=n(12),x=n.n(C),S=n(24);function F(e,t){return N.apply(this,arguments)}function N(){return(N=Object(S.a)(x.a.mark((function e(t,n){var a,r,l,c=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>2&&void 0!==c[2]?c[2]:null,(r=new Headers).append("Content-Type","application/json"),r.append("Accept","application/json"),e.next=6,fetch("/api".concat(t),{method:n,headers:r,body:a?JSON.stringify(a):null});case 6:if((l=e.sent).ok){e.next=9;break}throw l;case 9:return e.abrupt("return",l.json());case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return L.apply(this,arguments)}function L(){return(L=Object(S.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F(t,"GET"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t){return V.apply(this,arguments)}function V(){return(V=Object(S.a)(x.a.mark((function e(t,n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F(t,"POST",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W=function(){var e=Object(S.a)(x.a.mark((function e(t,n){var a,r=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>2&&void 0!==r[2]?r[2]:1,e.next=3,T("/new",{content:t,ttl:n,links_number:a});case 3:return e.abrupt("return",e.sent.tokens);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),M=function(){var e=Object(S.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I("/preview/".concat(encodeURIComponent(t)));case 2:return e.abrupt("return",e.sent.valid);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(S.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I("/view/".concat(encodeURIComponent(t)));case 2:return e.abrupt("return",e.sent.content);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=n(144),D=n(154),P=n(151),J=n(155),R=n(108),U=n(152),B=Object(R.a)((function(e){return{icon:{color:e.palette.primary.main},root:{color:e.palette.primary.main,display:"flex",flexWrap:"wrap","& $notchedOutline":{borderColor:e.palette.primary.main},"&:hover $notchedOutline":{borderColor:e.palette.primary.main},"&$focused $notchedOutline":{borderColor:e.palette.primary.main}},menuItem:{"&:hover":{backgroundColor:e.palette.primary.main+"8C"}},formControl:{margin:e.spacing(1),width:200},inputLabel:{color:e.palette.primary.main}}})),H=function(e){var t=e.options,n=Object(a.useState)(e.initialValue||""),l=Object(i.a)(n,2),c=l[0],o=l[1],u=Object(a.useMemo)((function(){return t.map((function(e){return{label:e.label,value:e}}))}),[t]),m=B(),s=Object(U.a)();return r.a.createElement(A.a,{variant:"outlined",margin:"dense",className:m.formControl,style:e.style},r.a.createElement(D.a,{classes:{root:m.inputLabel},htmlFor:s},e.label),r.a.createElement(P.a,{id:s,onChange:function(t){return o((n=t).target.value.label||""),e.form&&e.form.setFieldValue(e.field.name,n.target.value.value,!0),void(e.onChange&&e.onChange(n));var n},value:c,classes:{icon:m.icon},renderValue:function(e){return r.a.createElement(r.a.Fragment,null,e.label||e)},label:e.label},u.map((function(e){return r.a.createElement(J.a,{value:e.value,className:m.menuItem,key:e.label},e.label)}))))},G=n(30),Y=n(146),_=Object(Y.a)({multiLineField:{width:"100%",margin:"1rem 0",background:"none"}}),q=function(e){var t=_();return r.a.createElement(j.a,Object.assign({},e,{className:t.multiLineField,multiline:!0,rowsMax:10,rows:10,variant:"outlined"}))},z=function(e){return r.a.createElement(w,Object.assign({},e.field,e))},K=function(e){return r.a.createElement(q,Object.assign({},e.field,e))},Q=n(82);var X=[{label:"Hour",value:3600},{label:"Day",value:86400},{label:"Week",value:604800},{label:"Never",value:0}],Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(Q.a)(Array(e).keys()).map((function(e){return e+t}))}(10,1).map((function(e){return{label:"".concat(e),value:e}})),ee={ttl:X[0].value,content:"",linksNumber:1},te=function(e){var t=e.setTokens,n=e.setLoading,a=function(){var e=Object(S.a)(x.a.mark((function e(a,r,l){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t([]),n(!0),W(a,r,l).then((function(e){return t(e)})).catch((function(){})).finally((function(){return n(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{variant:"h3"},"Share Secret Data"),r.a.createElement(G.c,{initialValues:ee,onSubmit:function(){var e=Object(S.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0!==t.ttl&&a(t.content,+t.ttl,+t.linksNumber);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),render:function(){return r.a.createElement(G.b,null,r.a.createElement(G.a,{label:"Content",name:"content",placeholder:"Enter your content here",component:K}),r.a.createElement("div",null,r.a.createElement(m.a,{variant:"h6"},"TTL"),r.a.createElement(G.a,{name:"ttl",placeholder:"Duration in seconds",component:z}),r.a.createElement(G.a,{name:"ttl",options:X,label:"ttl",component:H,initialValue:X[0].label})),r.a.createElement("div",null,r.a.createElement(m.a,{variant:"h6"},"Number of links"),r.a.createElement(G.a,{name:"linksNumber",placeholder:"Number of links",component:z}),r.a.createElement(G.a,{name:"linksNumber",options:Z,label:"Number of links",component:H})),r.a.createElement("br",null),r.a.createElement(d,{type:"submit"},"Share Secret"))}}))},ne=function(e){return document.location.origin+"/view/".concat(encodeURIComponent(e))},ae=Object(a.memo)((function(e){var t=e.urls;return r.a.createElement("div",null,r.a.createElement(m.a,{style:{display:"inline"}},"Copy all"),r.a.createElement(g,{string:t.join("\n")}))})),re=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)(!1),o=Object(i.a)(c,2),u=o[0],m=o[1],s=Object(a.useMemo)((function(){return n.map(ne)}),[n]),f=Object(a.useMemo)((function(){return r.a.createElement(r.a.Fragment,null,s.map((function(e){return r.a.createElement(k,{key:e,url:e})})))}),[s]);return r.a.createElement(p,{loading:u},n.length>0?r.a.createElement(r.a.Fragment,null,f,r.a.createElement("br",null),r.a.createElement(ae,{urls:s}),r.a.createElement("br",null),r.a.createElement(d,{onClick:function(){return l([])}},"Share again")):r.a.createElement(te,{setLoading:m,setTokens:l}))},le=n(77),ce=n.n(le),oe=Object(a.memo)((function(){return r.a.createElement(m.a,{variant:"h1"},"Invalid "," ",r.a.createElement(ce.a,{htmlColor:"red",style:{height:"95%",width:"13%"}}))})),ue=function(e){var t=e.children;return r.a.createElement("span",{style:{fontWeight:"bold"}},t)},ie=n(78),me=n.n(ie),se=Object(a.memo)((function(e){var t=e.token,n=Object(a.useState)(void 0),l=Object(i.a)(n,2),c=l[0],o=l[1],u=Object(a.useState)(!1),s=Object(i.a)(u,2),d=s[0],b=s[1];return r.a.createElement(p,{loading:d},void 0!==c?r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{variant:"h3"},"Content"),r.a.createElement(q,{value:c,placeholder:"Empty",InputProps:{readOnly:!0}})):r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{variant:"h1"},"Valid "," ",r.a.createElement(me.a,{htmlColor:"green",style:{height:"95%",width:"13%"}})),r.a.createElement("br",null),"Do you want to see the content ?",r.a.createElement("br",null),r.a.createElement("br",null),"You can only see it ",r.a.createElement(ue,null,"once !"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(f.a,{onClick:function(){b(!0),$(t).then((function(e){return o(e)})).catch((function(){return o("Failed to fetch content")})).finally((function(){return b(!1)}))}},"See Content")))})),pe=function(e){var t=e.valid,n=e.token;return t?r.a.createElement(se,{token:n}):r.a.createElement(oe,null)},fe=function(e){var t=e.match.params.token,n=Object(a.useState)(!1),l=Object(i.a)(n,2),c=l[0],o=l[1],u=Object(a.useState)(void 0),m=Object(i.a)(u,2),s=m[0],f=m[1],d=Object(a.useCallback)((function(){o(!0),M(t).then((function(e){return f(e)})).catch((function(){return f(!1)})).finally((function(){return o(!1)}))}),[t]);return Object(a.useEffect)((function(){d()}),[d]),r.a.createElement(p,{loading:c||void 0===s},r.a.createElement(pe,{valid:s,token:t}))},de=n(148),be=n(145),he=function(e){var t=e.children,n=e.style;return r.a.createElement(de.a,{container:!0,justify:"center",alignItems:"center",style:{height:"100vh"}},r.a.createElement(be.a,{style:Object(O.a)({textAlign:"center",padding:"2%",minWidth:"30vw",margin:"1%"},n)},t))},ve=function(){return r.a.createElement(he,null,r.a.createElement(o.a,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/view/:token",component:fe}),r.a.createElement(u.a,{path:"/",component:re}))))},Ee=n(81),ye=n(149),ge=n(150),Oe=Object(Ee.a)(),je=function(){return r.a.createElement(ye.a,{theme:Oe},r.a.createElement(ge.a,null),r.a.createElement(ve,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(je,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},91:function(e,t,n){e.exports=n(107)},96:function(e,t,n){}},[[91,1,2]]]);
//# sourceMappingURL=main.71906515.chunk.js.map