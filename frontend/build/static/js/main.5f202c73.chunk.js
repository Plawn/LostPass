(this["webpackJsonpplawn-pass"]=this["webpackJsonpplawn-pass"]||[]).push([[0],{107:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(9),c=n.n(l),o=(n(96),n(79)),i=n(29),u=n(23),s=n(11),m=n.n(s),p=n(19),f=n(146),d=n(147),v=n(136),b=function(e){return e.loading?r.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(v.a,null)):r.a.createElement(r.a.Fragment,null,e.children)},h=function(){var e=Object(p.a)(m.a.mark((function e(t,n){var a,r,l,c,o=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>2&&void 0!==o[2]?o[2]:1,(r=new Headers).append("Content-Type","application/json"),r.append("Accept","application/json"),e.next=6,fetch("/api/new",{method:"POST",headers:r,body:JSON.stringify({content:t,ttl:n,links_number:a})});case 6:return l=e.sent,e.next=9,l.json();case 9:return c=e.sent,e.abrupt("return",c.tokens);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(p.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/preview/".concat(encodeURI(t)));case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a.valid);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(p.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/view/".concat(encodeURI(t)));case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a.content);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=n(140),j=n(155),O=n(151),w=n(153),k=n(108),x=n(152),C=Object(k.a)((function(e){return{icon:{color:e.palette.primary.main},root:{color:e.palette.primary.main,display:"flex",flexWrap:"wrap","& $notchedOutline":{borderColor:e.palette.primary.main},"&:hover $notchedOutline":{borderColor:e.palette.primary.main},"&$focused $notchedOutline":{borderColor:e.palette.primary.main}},menuItem:{"&:hover":{backgroundColor:e.palette.primary.main+"8C"}},formControl:{margin:e.spacing(1),width:200},inputLabel:{color:e.palette.primary.main}}})),S=function(e){var t=e.options,n=Object(a.useState)(e.initialValue||""),l=Object(u.a)(n,2),c=l[0],o=l[1],i=Object(a.useMemo)((function(){return t.map((function(e){return{label:e.label,value:e}}))}),[t]),s=C(),m=Object(x.a)();return r.a.createElement(y.a,{variant:"outlined",margin:"dense",className:s.formControl,style:e.style},r.a.createElement(j.a,{classes:{root:s.inputLabel},htmlFor:m},e.label),r.a.createElement(O.a,{id:m,onChange:function(t){return o((n=t).target.value.label||""),e.form&&e.form.setFieldValue(e.field.name,n.target.value.value,!0),void(e.onChange&&e.onChange(n));var n},value:c,classes:{icon:s.icon},renderValue:function(e){return r.a.createElement(r.a.Fragment,null,e.label||e)},label:e.label},i.map((function(e){return r.a.createElement(w.a,{value:e.value,className:s.menuItem,key:e.label},e.label)}))))},N=n(30),I=n(55),F=n(156),L=function(e){return r.a.createElement(F.a,Object.assign({},e,{inputProps:{style:Object(I.a)({textAlign:"center"},e.style)},variant:"outlined",margin:"dense"}))},T=n(144),V=Object(T.a)({multiLineField:{width:"100%",margin:"1rem 0",background:"none"}}),W=function(e){var t=V();return r.a.createElement(F.a,Object.assign({},e,{className:t.multiLineField,multiline:!0,rowsMax:10,rows:10,variant:"outlined"}))},$=function(e){return r.a.createElement(L,Object.assign({},e.field,e))},A=function(e){return r.a.createElement(W,Object.assign({},e.field,e))},D=n(82);var M=n(76),P=n.n(M),J=n(145),R=function(e){return r.a.createElement(J.a,Object.assign({},e,{variant:"outlined"}))},U=n(75),B=n.n(U),H=[{label:"Hour",value:3600},{label:"Day",value:86400},{label:"Week",value:604800},{label:"Never",value:0}],Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(D.a)(Array(e).keys()).map((function(e){return e+t}))}(10,1).map((function(e){return{label:"".concat(e),value:e}})),_=function(e){return document.location.origin+"/view/".concat(encodeURI(e))},q=function(e){var t=e.url,n=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.writeText(t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(L,{value:t,style:{width:"100%"},InputProps:{readOnly:!0}}),r.a.createElement(B.a,{text:t},r.a.createElement(f.a,{onClick:n,component:"span"},r.a.createElement(P.a,null))))},z={ttl:H[0].value,content:"",linksNumber:1},G=function(e){var t=e.setTokens,n=e.setLoading,a=function(){var e=Object(p.a)(m.a.mark((function e(a,r,l){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t([]),n(!0),e.prev=2,e.next=5,h(a,r,l);case 5:c=e.sent,t(c),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:n(!1);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n,a){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{variant:"h3"},"Share Secret Data"),r.a.createElement(N.c,{initialValues:z,onSubmit:function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0!==t.ttl&&a(t.content,+t.ttl,+t.linksNumber);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),render:function(e){return r.a.createElement(N.b,null,r.a.createElement(N.a,{label:"Content",name:"content",placeholder:"Enter your content here",component:A}),r.a.createElement("div",null,r.a.createElement(d.a,{variant:"h6"},"TTL"),r.a.createElement(N.a,{name:"ttl",placeholder:"Duration in seconds",component:$}),r.a.createElement(N.a,{name:"ttl",options:H,label:"ttl",component:S,initialValue:H[0].label})),r.a.createElement("div",null,r.a.createElement(d.a,{variant:"h6"},"Number of links"),r.a.createElement(N.a,{name:"linksNumber",placeholder:"Number of links",component:$}),r.a.createElement(N.a,{name:"linksNumber",options:Y,label:"Number of links",component:S})),r.a.createElement("br",null),r.a.createElement(R,{type:"submit"},"Share Secret"))}}))},K=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)(!1),o=Object(u.a)(c,2),i=o[0],s=o[1],m=Object(a.useMemo)((function(){return n.map(_)}),[n]);return r.a.createElement(b,{loading:i},n.length>0?r.a.createElement(r.a.Fragment,null,m.map((function(e){return r.a.createElement(q,{url:e})})),r.a.createElement("br",null),r.a.createElement(R,{onClick:function(){return l([])}},"Share again")):r.a.createElement(G,{setLoading:s,setTokens:l}))},Q=n(78),X=n.n(Q),Z=n(77),ee=n.n(Z),te=function(e){var t=e.children;return r.a.createElement("span",{style:{fontWeight:"bold"}},t)},ne=function(){return r.a.createElement(d.a,{variant:"h1"},"Invalid "," ",r.a.createElement(ee.a,{htmlColor:"red",style:{height:"95%",width:"13%"}}))},ae=function(e){var t=e.token,n=Object(a.useState)(void 0),l=Object(u.a)(n,2),c=l[0],o=l[1],i=Object(a.useState)(!1),s=Object(u.a)(i,2),f=s[0],v=s[1],h=function(){var e=Object(p.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,g(t);case 4:n=e.sent,o(n),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:v(!1);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(b,{loading:f},void 0!==c?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{variant:"h3"},"Content"),r.a.createElement(W,{value:c,placeholder:"Empty",InputProps:{readOnly:!0}})):r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{variant:"h1"},"Valid "," ",r.a.createElement(X.a,{htmlColor:"green",style:{height:"95%",width:"13%"}})),r.a.createElement("br",null),"Do you want to see the content ?",r.a.createElement("br",null),r.a.createElement("br",null),"You can only see it ",r.a.createElement(te,null,"once !"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(R,{onClick:h},"See Content")))},re=function(e){var t=e.valid,n=e.token;return void 0!==t?t?r.a.createElement(ae,{token:n}):r.a.createElement(ne,null):null},le=function(e){var t=e.match.params.token,n=Object(a.useState)(!1),l=Object(u.a)(n,2),c=l[0],o=l[1],i=Object(a.useState)(void 0),s=Object(u.a)(i,2),f=s[0],d=s[1],v=Object(a.useCallback)(Object(p.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,E(t);case 4:n=e.sent,d(n),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:o(!1);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[t]);return Object(a.useEffect)((function(){v()}),[v]),r.a.createElement(b,{loading:c},r.a.createElement(re,{valid:f,token:t}))},ce=n(148),oe=n(143),ie=function(e){var t=e.children,n=e.style;return r.a.createElement(ce.a,{container:!0,justify:"center",alignItems:"center",style:{height:"100vh"}},r.a.createElement(oe.a,{style:Object(I.a)({textAlign:"center",padding:"2%",minWidth:"30vw",margin:"1%"},n)},t))},ue=function(){return r.a.createElement(ie,null,r.a.createElement(o.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/view/:token",component:le}),r.a.createElement(i.a,{path:"/",component:K}))))},se=n(81),me=n(149),pe=n(150),fe=Object(se.a)(),de=function(){return r.a.createElement(me.a,{theme:fe},r.a.createElement(pe.a,null),r.a.createElement(ue,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},91:function(e,t,n){e.exports=n(107)},96:function(e,t,n){}},[[91,1,2]]]);
//# sourceMappingURL=main.5f202c73.chunk.js.map